<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alpine.store</title>
   <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.5/dist/cdn.min.js"></script>
    <script src="./app.js"></script>
</head>
<body>
<!--     <h1>Accessing stores</h1>
<div x-data x-text="$store.currentUser.username"></div>
    <div x-data x-text="$store.currentUser.posts"></div> 

    <div x-data :class="$store.darkMode.on && 'bg-black'">
        
        <h1>test</h1>
        <h1>test</h1>
        <h1>test</h1>
        <h1>test</h1>
        <h1>test</h1>
        <h1>test</h1>
        <h1>test</h1>

    </div>

    <button x-data   @click="$store.darkMode.on = !$store.darkMode.on "> change background</button> -->
    <h1>Initializing stores</h1>

     <div x-data :class="{ 'dark': $store.darkMode.on }">
        <h1>Hello, World!</h1>
    </div>
 <button x-data @click="$store.darkMode.toggle()">Toggle Dark Mode</button>
    <!-- Dark mode CSS -->
    <style>
        .dark {
            background-color: black;
            color: white;
        }
    </style>
    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.store('darkMode', {
                init() {
                    // Set initial dark mode state based on user's preference
                    this.on = window.matchMedia('(prefers-color-scheme: green)').matches;
                       console.log(window.matchMedia('(prefers-color-scheme: dark)').matches);

                },

                on: false,

                toggle() {
                    // Toggle dark mode state
                    this.on = !this.on;
                }
            });
        });
    </script>


    <h1> Single-value stores</h1>

    <button x-data @click="$store.darkMode = ! $store.darkMode">Toggle Dark Mode</button>
 

<div x-data  :style="$store.darkMode ? 'background-color: black;' : 'background-color: orange;'" >
   <p>lorem21</p>
   <p>lorem21</p>
   <p>lorem21</p>
</div>
 
 
<script>
    document.addEventListener('alpine:init', () => {
        Alpine.store('darkMode', false)
    })
</script>
</body>
</html>             
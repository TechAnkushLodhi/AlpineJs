<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sort</title>
    <!-- Alpine Plugins -->
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/sort@3.x.x/dist/cdn.min.js"></script>
    <!-- Alpine Core -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body>
    <h1>Basic usage</h1>
    <div x-data="">
        <ul x-sort="">
            <li x-sort:item="" style="cursor:pointer">foo</li>
            <li x-sort:item="" style="cursor:pointer">bar</li>
            <li x-sort:item="" style="cursor:pointer">baz</li>
        </ul>
    </div>

    <h1>Sort handlers</h1>
    <div x-data="">
        <ul x-sort="alert($item + ' - ' + $position)">
            <li x-sort:item="2" style="cursor:pointer">bar</li>
            <li x-sort:item="3" style="cursor:pointer">baz</li>
            <li x-sort:item="1" style="cursor:pointer">foo</li>
        </ul>
    </div>


    <div x-data="{ handle: (item, position) => { console.log(item + position ) } }">
        <ul x-sort="handle">
            <li x-sort:item="1">foo</li>
            <li x-sort:item="2">bar</li>
            <li x-sort:item="3">baz</li>
        </ul>
    </div>

    <h1>Sorting groups</h1>

    <div x-data>
        <ul x-sort x-sort:group="todos">
            <li x-sort:item="1">foo</li>
            <li x-sort:item="2">bar</li>
            <li x-sort:item="3">baz</li>
        </ul>

        <ol x-sort x-sort:group="todos">
            <li x-sort:item="4">foo</li>
            <li x-sort:item="5">bar</li>
            <li x-sort:item="6">baz</li>
        </ol>
    </div>

    <h1>Drag handles</h1>



    <div x-data="">
        <ul x-sort>
            <li x-sort:item>
                <span x-sort:handle> - </span>foo
            </li>
         
            <li x-sort:item>
                <span x-sort:handle> - </span>bar
            </li>
         
            <li x-sort:item>
                <span x-sort:handle> - </span>baz
            </li>
        </ul>
    </div>

     <h1>Ghost elements</h1>
     <div x-data="">
        <ul x-sort.ghost>
            <li x-sort:item>foo</li>
            <li x-sort:item>bar</li>
            <li x-sort:item>baz</li>
        </ul>
     </div>

     <h1>Styling the ghost element</h1>

        <style>
        .sortable-ghost {
            opacity: .5 !important;
            background-color: red;
            color: #fff;
        }
        #sort-warning {
    display: none;
        }
        
        body.sorting #sort-warning {
            display: block;
        }
        
        </style>
     <div x-data="">
        <ul x-sort.ghost>
            <li x-sort:item>foo</li>
            <li x-sort:item>bar</li>
            <li x-sort:item>baz</li>
        </ul>
     </div>
     <h1>Sorting class on body</h1>
      <div id="sort-warning">
           Page functionality is limited while sorting
      </div>

            

      <style>
        .hover_bug{
            cursor: pointer;
        }
        .hover_bug:hover{
            border: 2px solid;
        }
      </style>

      <h1>CSS hover bug</h1>
      <div x-data="">
        <div x-sort>
            <div x-sort:item class="hover_bug">foo</div>
            <div x-sort:item class="hover_bug">bar</div>
            <div x-sort:item class="hover_bug">baz</div>
        </div>
      </div>
      <br><br>
       <style>
         body:not(.sorting) .item:hover {
                border: 2px solid;
            }
       </style>
      <div x-data="">
        <div x-sort>
            <div x-sort:item class="item">foo</div>
            <div x-sort:item class="item">bar</div>
            <div x-sort:item class="item">baz</div>
        </div>
      </div>

      <h1>Custom configuration</h1>

      <div x-data="">
        <ul x-sort x-sort:config="{ animation: 0 }">
            <li x-sort:item>foo</li>
            <li x-sort:item>bar</li>
            <li x-sort:item>baz</li>
        </ul>
      </div>

      <div x-data="">
        <ul x-sort x-sort:config="{ onStart: handleSortStart, onSort: handleSort, onEnd: handleSortEnd }">
            <li x-sort:item>foo</li>
            <li x-sort:item>bar</li>
            <li x-sort:item>baz</li>
        </ul>
    </div>
    
    <script>
        function handleSortStart(event) {
            console.log('Sorting started!');
        }
    
        function handleSort(event, index) {
            console.log('Sorting complete! New index:', index);
        }
    
        function handleSortEnd(event, index) {
            console.log('Sorting ended! New index:', index);
        }
    </script>
    
    
</body>

</html>